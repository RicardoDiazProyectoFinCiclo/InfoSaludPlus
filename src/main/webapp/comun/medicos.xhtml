<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://java.sun.com/jsf/html" 
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:rich="http://richfaces.org/rich"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <f:view>

        <ui:decorate template="/resources/templates/plantillaInicio.xhtml">
            <ui:define name="titulo">InfoSaludPlus |  inicio</ui:define>
            <ui:define name="accesosMenu">

            </ui:define>
            <ui:define name="migaPan">
                <h:outputText value="Inicio" style="font-weight:bold" />
            </ui:define>

            <ui:define name="secciones">

                <section class="col-sm-9 row">
                    <h2 class="cabeceraSeccion" >
                        <h:outputText value="EL PERSONAL MÉDICO DE INFOSALUD PLUS" />
                    </h2>
                    <div class="text-center col-sm-11 col-sm-offset-1 seccionInteres row">
                        <a4j:outputPanel layout="block">
                            <a4j:repeat rendered="#{not empty comunesBean.listMedicos}" value="#{comunesBean.listMedicos}" var="med"  >
                                <div class="servicios-cu center-block"  style="width: 60%; background: rgb(240,240,255);"   > 
                                    <div >
                                        <p><h:outputText style="font-weight: bold; text-transform: uppercase;" value="#{med.nombre} #{med.apellidos}" /></p>
                                    <p>

                                        <a4j:mediaOutput  id="media" element="img" class="img-responsive center-block img-rounded imagenPublica" style=" border: solid 1px black; " createContent="#{imagenBean.pintarImagenConId}"
                                                          value="#{row}"  cacheable="false"  title="Foto del médico">
                                            <f:param value="#{med.imagen.id}"  name="paramIdImagen" /> 
                                        </a4j:mediaOutput>

                                    </p>
                                        <p><h:outputText style="text-transform: uppercase;" value="#{med.servicio.nombre}" /></p>
                                        <p><b>Titulación: </b><h:outputText value="#{med.titulos}" /></p>
                                    </div>
                                </div>
                            </a4j:repeat>
                            <h:outputText rendered="#{empty comunesBean.listMedicos}" value="No hay médicos disponibles para mostrar en este momento" />
                        </a4j:outputPanel>
                    </div>
                </section>


                <aside class="col-sm-offset-1 col-sm-2">

                    <rich:panel header="Cita previa">
                        <p class="text-justify">Cita previa online de forma rápida para acudir a nuestro centro de salud.</p>

                        <p style="text-align: center;"><h:graphicImage class="img-responsive" library="images" name="cita_previa.png" alt="Imagen de cita previa" title="Imagen de cita previa" /></p>

                        <p class="text-justify">
                            Para pedirla tienes que registrarte y hacer login con tu usuario.</p>
                        <p class="text-justify">¡Recuerda seleccionar un médico en tu área personal!</p>

                    </rich:panel>
                </aside>

            </ui:define>
        </ui:decorate>

    </f:view>
</html>

